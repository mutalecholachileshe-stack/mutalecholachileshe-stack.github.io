<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SAFENEST | Safe Homes, Safe Community</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@700;800&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        /* ===== RESET & BASE STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        :root {
            /* New Warm, Trustworthy Color Palette */
            --primary: #2A5C3D; /* Earthy green - Trust, Growth */
            --primary-light: #3E7B52;
            --primary-dark: #1E402C;
            --secondary: #E67E22; /* Warm orange - Warmth, Energy */
            --secondary-light: #F39C12;
            --secondary-dark: #D35400;
            --accent: #8E6C3A; /* Warm brown - Earthy, Reliable */
            --accent-light: #A6804D;
            
            /* Neutral tones */
            --warm-gray: #8C8C8C;
            --warm-light: #FAF6F1; /* Warm off-white */
            --warm-white: #FFFCF8;
            --text-dark: #333333;
            --text-medium: #666666;
            --text-light: #999999;
            
            /* Soft backgrounds */
            --bg-light: #F9F5F0;
            --bg-white: var(--warm-white);
            
            /* Trust colors */
            --trust-green: #27AE60; /* For verified badges */
            --trust-blue: #3498DB; /* For escrow */
            --trust-yellow: #F1C40F; /* For warnings */
            
            /* Shadows */
            --shadow-soft: 0 8px 30px rgba(42, 92, 61, 0.08);
            --shadow-medium: 0 12px 40px rgba(42, 92, 61, 0.12);
            --shadow-light: 0 4px 15px rgba(42, 92, 61, 0.05);
            
            /* Border radius */
            --radius-sm: 10px;
            --radius: 16px;
            --radius-lg: 24px;
            --radius-xl: 32px;
            --radius-round: 50%;
            
            /* Transitions */
            --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-bounce: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            color: var(--text-dark);
            background: var(--bg-light);
            line-height: 1.6;
            overflow-x: hidden;
            height: 100vh;
            position: relative;
        }

        /* ===== APP CONTAINER ===== */
        #app {
            width: 100%;
            height: 100vh;
            max-width: 480px;
            margin: 0 auto;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-medium);
            background: var(--bg-white);
            border-radius: 0;
        }

        /* ===== UTILITY CLASSES ===== */
        .hidden {
            display: none !important;
        }

        .warm-card {
            background: var(--warm-white);
            border: 1px solid rgba(142, 108, 58, 0.1);
            border-radius: var(--radius);
            box-shadow: var(--shadow-light);
        }

        .gradient-bg {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
        }

        .gradient-text {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* ===== TRUST & SAFETY ELEMENTS ===== */
        .trust-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: rgba(39, 174, 96, 0.1);
            color: var(--trust-green);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-right: 8px;
            margin-bottom: 8px;
            border: 1px solid rgba(39, 174, 96, 0.2);
        }

        .trust-badge.escrow {
            background: rgba(52, 152, 219, 0.1);
            color: var(--trust-blue);
            border-color: rgba(52, 152, 219, 0.2);
        }

        .trust-badge.verified {
            background: rgba(39, 174, 96, 0.1);
            color: var(--trust-green);
            border-color: rgba(39, 174, 96, 0.2);
        }

        .trust-badge.rating {
            background: rgba(241, 196, 15, 0.1);
            color: var(--trust-yellow);
            border-color: rgba(241, 196, 15, 0.2);
        }

        /* ===== SCREENS ===== */
        .screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
            transition: opacity 0.4s ease, transform 0.4s ease, visibility 0.4s;
            overflow-y: auto;
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
            background: var(--bg-light);
            padding-bottom: 80px;
        }

        .screen.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
            z-index: 10;
        }

        .screen.exit-left {
            transform: translateX(-20px);
        }

        .screen.exit-right {
            transform: translateX(20px);
        }

        /* ===== WELCOME SCREEN - REDESIGNED ===== */
        #welcome-screen {
            background: linear-gradient(135deg, #F9F5F0 0%, #F0E6D6 100%);
            display: flex;
            flex-direction: column;
            padding: 0;
            position: relative;
            overflow: hidden;
        }

        .welcome-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(42, 92, 61, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(230, 126, 34, 0.05) 0%, transparent 50%);
        }

        .welcome-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px 30px;
            text-align: center;
            position: relative;
            z-index: 2;
        }

        .welcome-logo {
            margin-bottom: 40px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .logo-circle {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            border-radius: var(--radius-round);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-medium);
            position: relative;
            overflow: hidden;
        }

        .logo-circle::before {
            content: '';
            position: absolute;
            width: 60px;
            height: 60px;
            background: var(--warm-white);
            border-radius: 50%;
            opacity: 0.2;
        }

        .logo-icon {
            font-size: 48px;
            color: var(--warm-white);
            position: relative;
            z-index: 2;
        }

        .logo-text {
            font-family: 'Playfair Display', serif;
            font-size: 2.8rem;
            font-weight: 800;
            color: var(--primary);
            letter-spacing: -0.5px;
            line-height: 1;
        }

        .logo-tagline {
            font-size: 1.1rem;
            color: var(--text-medium);
            font-weight: 400;
            margin-top: 8px;
            max-width: 280px;
            line-height: 1.4;
        }

        .welcome-message {
            margin-bottom: 50px;
            max-width: 320px;
        }

        .welcome-message h1 {
            font-family: 'Playfair Display', serif;
            font-size: 2.2rem;
            color: var(--primary);
            margin-bottom: 15px;
            line-height: 1.2;
        }

        .welcome-message p {
            color: var(--text-medium);
            font-size: 1.1rem;
        }

        .welcome-features {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 50px;
            max-width: 320px;
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: var(--warm-white);
            border-radius: var(--radius);
            border-left: 4px solid var(--primary);
            box-shadow: var(--shadow-light);
            transition: var(--transition-smooth);
        }

        .feature-item:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-soft);
        }

        .feature-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
        }

        .feature-text h4 {
            color: var(--primary);
            margin-bottom: 4px;
            font-weight: 600;
        }

        .feature-text p {
            color: var(--text-medium);
            font-size: 0.9rem;
        }

        .welcome-actions {
            width: 100%;
            max-width: 320px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 40px;
        }

        /* ===== BUTTONS - REDESIGNED ===== */
        .btn {
            padding: 18px 24px;
            border-radius: var(--radius);
            font-family: 'Inter', sans-serif;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: var(--transition-bounce);
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }

        .btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%);
            transform-origin: 50% 50%;
        }

        .btn:focus:not(:active)::after {
            animation: ripple 1s ease-out;
        }

        @keyframes ripple {
            0% {
                transform: scale(0, 0);
                opacity: 0.5;
            }
            100% {
                transform: scale(40, 40);
                opacity: 0;
            }
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            box-shadow: 0 10px 30px rgba(42, 92, 61, 0.2);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(42, 92, 61, 0.3);
        }

        .btn-secondary {
            background: white;
            color: var(--primary);
            border: 2px solid rgba(42, 92, 61, 0.1);
            box-shadow: 0 4px 15px rgba(42, 92, 61, 0.1);
        }

        .btn-secondary:hover {
            transform: translateY(-3px);
            border-color: var(--primary);
            box-shadow: 0 10px 25px rgba(42, 92, 61, 0.15);
        }

        .btn-warm {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--secondary-light) 100%);
            color: white;
            box-shadow: 0 10px 30px rgba(230, 126, 34, 0.2);
        }

        .btn-warm:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(230, 126, 34, 0.3);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background: rgba(42, 92, 61, 0.05);
            transform: translateY(-3px);
        }

        .btn-block {
            width: 100%;
        }

        /* ===== APP HEADER - REDESIGNED ===== */
        .app-header {
            position: sticky;
            top: 0;
            z-index: 100;
            padding: 15px 20px;
            background: var(--warm-white);
            border-bottom: 1px solid rgba(142, 108, 58, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(10px);
        }

        .header-left, .header-right {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .back-btn {
            width: 44px;
            height: 44px;
            border-radius: var(--radius-round);
            background: var(--warm-white);
            border: 1px solid rgba(142, 108, 58, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 18px;
            cursor: pointer;
            transition: var(--transition-smooth);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .back-btn:hover {
            background: rgba(42, 92, 61, 0.05);
            transform: translateX(-2px);
        }

        .header-logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .header-logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
        }

        .header-logo-text {
            font-family: 'Playfair Display', serif;
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--primary);
        }

        .header-action {
            width: 44px;
            height: 44px;
            border-radius: var(--radius-round);
            background: var(--warm-white);
            border: 1px solid rgba(142, 108, 58, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 16px;
            cursor: pointer;
            transition: var(--transition-smooth);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .header-action:hover {
            background: rgba(42, 92, 61, 0.05);
            transform: translateY(-2px);
        }

        /* ===== BOTTOM NAVIGATION - REDESIGNED ===== */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            max-width: 480px;
            margin: 0 auto;
            padding: 12px 20px;
            background: var(--warm-white);
            border-top: 1px solid rgba(142, 108, 58, 0.1);
            display: flex;
            justify-content: space-around;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            text-decoration: none;
            color: var(--text-light);
            transition: var(--transition-smooth);
            padding: 12px 16px;
            border-radius: var(--radius);
            min-width: 70px;
        }

        .nav-item i {
            font-size: 20px;
            transition: var(--transition-smooth);
        }

        .nav-item span {
            font-size: 12px;
            font-weight: 500;
        }

        .nav-item.active {
            background: linear-gradient(135deg, rgba(42, 92, 61, 0.1) 0%, rgba(230, 126, 34, 0.1) 100%);
            color: var(--primary);
            transform: translateY(-5px);
        }

        .nav-item.active i {
            color: var(--primary);
        }

        /* ===== DASHBOARD SCREEN ===== */
        .dashboard-header {
            padding: 30px 20px 20px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            border-radius: 0 0 var(--radius-xl) var(--radius-xl);
            margin-bottom: -20px;
            position: relative;
            overflow: hidden;
        }

        .dashboard-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100%;
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0.1), transparent);
        }

        .greeting {
            margin-bottom: 20px;
            position: relative;
            z-index: 2;
        }

        .greeting h2 {
            font-size: 1.8rem;
            margin-bottom: 8px;
            font-family: 'Playfair Display', serif;
        }

        .greeting p {
            opacity: 0.9;
            font-size: 1rem;
        }

        .search-box {
            background: var(--warm-white);
            border-radius: var(--radius);
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: var(--shadow-medium);
            margin-top: 20px;
            position: relative;
            z-index: 2;
            border: 1px solid rgba(142, 108, 58, 0.1);
        }

        .search-box input {
            flex: 1;
            border: none;
            outline: none;
            font-size: 16px;
            color: var(--text-dark);
            background: transparent;
        }

        .search-box i {
            color: var(--primary);
            font-size: 18px;
        }

        .dashboard-content {
            padding: 20px;
        }

        .section-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .section-title h3 {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary);
            font-family: 'Playfair Display', serif;
        }

        .section-title a {
            color: var(--primary);
            text-decoration: none;
            font-size: 14px;
            font-weight: 600;
            padding: 6px 12px;
            border-radius: var(--radius-sm);
            transition: var(--transition-smooth);
        }

        .section-title a:hover {
            background: rgba(42, 92, 61, 0.1);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: var(--warm-white);
            border-radius: var(--radius);
            padding: 16px;
            text-align: center;
            border: 1px solid rgba(142, 108, 58, 0.1);
            box-shadow: var(--shadow-light);
            transition: var(--transition-smooth);
        }

        .stat-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-soft);
        }

        .stat-icon {
            width: 40px;
            height: 40px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            color: white;
            font-size: 16px;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 4px;
            color: var(--primary);
        }

        .stat-label {
            font-size: 12px;
            color: var(--text-medium);
        }

        /* ===== PROPERTY CARD - REDESIGNED ===== */
        .properties-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }

        .property-card {
            background: var(--warm-white);
            border-radius: var(--radius-lg);
            overflow: hidden;
            border: 1px solid rgba(142, 108, 58, 0.1);
            box-shadow: var(--shadow-light);
            transition: var(--transition-smooth);
            position: relative;
        }

        .property-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-medium);
        }

        .property-image {
            height: 200px;
            width: 100%;
            background-size: cover;
            background-position: center;
            position: relative;
        }

        .property-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100%;
            background: linear-gradient(to bottom, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.3));
        }

        .property-badges {
            position: absolute;
            top: 15px;
            left: 15px;
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            color: white;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .badge-type {
            background: rgba(42, 92, 61, 0.9);
        }

        .badge-transport {
            background: rgba(230, 126, 34, 0.9);
        }

        .badge-verified {
            background: rgba(39, 174, 96, 0.9);
        }

        .property-fav {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 44px;
            height: 44px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: var(--radius-round);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-light);
            cursor: pointer;
            transition: var(--transition-smooth);
            border: none;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .property-fav.active {
            color: #E74C3C;
            background: rgba(231, 76, 60, 0.1);
        }

        .property-content {
            padding: 20px;
        }

        .property-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .property-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 6px;
            line-height: 1.3;
        }

        .property-location {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 14px;
            color: var(--text-medium);
        }

        .property-price {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--primary);
            text-align: right;
        }

        .property-price span {
            font-size: 12px;
            color: var(--text-medium);
            font-weight: 400;
            display: block;
        }

        .property-amenities {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 15px 0;
            padding: 15px 0;
            border-top: 1px solid rgba(142, 108, 58, 0.1);
            border-bottom: 1px solid rgba(142, 108, 58, 0.1);
        }

        .amenity {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 12px;
            color: var(--text-medium);
            background: rgba(42, 92, 61, 0.05);
            padding: 6px 12px;
            border-radius: 20px;
        }

        .property-footer {
            display: flex;
            gap: 12px;
        }

        .btn-outline {
            background: transparent;
            border: 1.5px solid var(--primary);
            color: var(--primary);
            padding: 12px 16px;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition-smooth);
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }

        .btn-outline:hover {
            background: rgba(42, 92, 61, 0.1);
            transform: translateY(-2px);
        }

        .btn-solid {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            border: none;
            padding: 12px 16px;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition-smooth);
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }

        .btn-solid:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(42, 92, 61, 0.2);
        }

        /* ===== FORM ELEMENTS ===== */
        .form-section {
            background: var(--warm-white);
            border-radius: var(--radius);
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid rgba(142, 108, 58, 0.1);
            box-shadow: var(--shadow-light);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary);
            font-size: 14px;
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 16px;
            border: 1.5px solid rgba(142, 108, 58, 0.1);
            border-radius: var(--radius-sm);
            font-size: 16px;
            font-family: 'Inter', sans-serif;
            background: var(--warm-white);
            transition: var(--transition-smooth);
            color: var(--text-dark);
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(42, 92, 61, 0.1);
        }

        /* ===== DEMO BOX ===== */
        .demo-box {
            background: linear-gradient(135deg, rgba(42, 92, 61, 0.05) 0%, rgba(230, 126, 34, 0.05) 100%);
            border-radius: var(--radius);
            padding: 25px;
            text-align: center;
            border: 1px solid rgba(42, 92, 61, 0.1);
            margin-top: 20px;
        }

        .demo-box h3 {
            color: var(--primary);
            margin-bottom: 15px;
            font-family: 'Playfair Display', serif;
        }

        .demo-credentials {
            background: var(--warm-white);
            border-radius: var(--radius-sm);
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(142, 108, 58, 0.1);
        }

        .demo-field {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid rgba(142, 108, 58, 0.1);
        }

        .demo-field:last-child {
            border-bottom: none;
        }

        /* ===== MODAL ===== */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: 20px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s;
        }

        .modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: var(--warm-white);
            border-radius: var(--radius-xl);
            width: 100%;
            max-width: 400px;
            max-height: 80vh;
            overflow-y: auto;
            border: 1px solid rgba(142, 108, 58, 0.1);
            box-shadow: var(--shadow-medium);
            animation: modalSlideIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* ===== TOAST ===== */
        .toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 16px 24px;
            border-radius: var(--radius);
            box-shadow: var(--shadow-medium);
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 2000;
            opacity: 0;
            transition: var(--transition-bounce);
            max-width: 90%;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        .toast i {
            font-size: 20px;
        }

        /* ===== SCROLLBAR ===== */
        .screen::-webkit-scrollbar {
            width: 6px;
        }

        .screen::-webkit-scrollbar-track {
            background: transparent;
        }

        .screen::-webkit-scrollbar-thumb {
            background: rgba(42, 92, 61, 0.2);
            border-radius: 3px;
        }

        .screen::-webkit-scrollbar-thumb:hover {
            background: rgba(42, 92, 61, 0.4);
        }

        /* ===== RESPONSIVE ADJUSTMENTS ===== */
        @media (max-height: 700px) {
            .welcome-content {
                padding: 30px 20px;
            }
            
            .welcome-features {
                margin-bottom: 30px;
            }
            
            .welcome-actions {
                margin-bottom: 30px;
            }
        }

        @media (max-width: 480px) {
            #app {
                border-radius: 0;
            }
            
            .logo-text {
                font-size: 2.4rem;
            }
            
            .welcome-message h1 {
                font-size: 1.8rem;
            }
            
            .property-image {
                height: 180px;
            }
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- Bottom Navigation -->
        <div class="bottom-nav hidden" id="bottom-nav-tenant">
            <a href="#" class="nav-item active" onclick="showScreen('dashboard')">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </a>
            <a href="#" class="nav-item" onclick="showScreen('listings')">
                <i class="fas fa-search"></i>
                <span>Browse</span>
            </a>
            <a href="#" class="nav-item" onclick="showScreen('saved')">
                <i class="fas fa-heart"></i>
                <span>Saved</span>
            </a>
            <a href="#" class="nav-item" onclick="showScreen('profile')">
                <i class="fas fa-user"></i>
                <span>Profile</span>
            </a>
        </div>

        <!-- Screen 1: Welcome -->
        <div class="screen active" id="welcome-screen">
            <div class="welcome-background"></div>
            <div class="welcome-content">
                <div class="welcome-logo">
                    <div class="logo-circle">
                        <i class="fas fa-home logo-icon"></i>
                    </div>
                    <div>
                        <h1 class="logo-text">SAFENEST</h1>
                        <p class="logo-tagline">Where students find home & community</p>
                    </div>
                </div>

                <div class="welcome-message">
                    <h1>Find Your Perfect Home</h1>
                    <p>Verified monthly rentals with transport options. Safe, simple, and trusted by thousands of students.</p>
                </div>

                <div class="welcome-features">
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="feature-text">
                            <h4>Verified Homes</h4>
                            <p>Every property is inspected and verified</p>
                        </div>
                    </div>

                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-bus"></i>
                        </div>
                        <div class="feature-text">
                            <h4>Easy Transport</h4>
                            <p>Optional shuttle service to campus</p>
                        </div>
                    </div>

                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-handshake"></i>
                        </div>
                        <div class="feature-text">
                            <h4>Trusted Community</h4>
                            <p>Ratings, reviews, and verified tenants</p>
                        </div>
                    </div>
                </div>

                <div class="welcome-actions">
                    <button class="btn btn-primary btn-block" onclick="showScreen('register')">
                        <i class="fas fa-user-plus"></i> Join Our Community
                    </button>
                    <button class="btn btn-secondary btn-block" onclick="showScreen('login')">
                        <i class="fas fa-sign-in-alt"></i> Welcome Back
                    </button>
                </div>

                <div class="demo-box">
                    <h3>Try SAFENEST</h3>
                    <p style="color: var(--text-medium); margin-bottom: 15px; font-size: 0.95rem;">Experience our platform with demo credentials</p>
                    <div class="demo-credentials">
                        <div class="demo-field">
                            <span style="color: var(--text-medium);">Phone:</span>
                            <strong style="color: var(--primary);">971234567</strong>
                        </div>
                        <div class="demo-field">
                            <span style="color: var(--text-medium);">Password:</span>
                            <strong style="color: var(--primary);">demo123</strong>
                        </div>
                    </div>
                    <button class="btn btn-warm btn-block" onclick="quickDemoLogin('tenant')">
                        <i class="fas fa-rocket"></i> Try as Tenant
                    </button>
                    <button class="btn btn-outline btn-block" onclick="quickDemoLogin('owner')" style="margin-top: 10px;">
                        <i class="fas fa-building"></i> Try as Owner
                    </button>
                </div>
            </div>
        </div>

        <!-- Screen 2: Login -->
        <div class="screen" id="login-screen">
            <div class="app-header">
                <div class="header-left">
                    <button class="back-btn" onclick="showScreen('welcome')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="header-logo">
                        <div class="header-logo-icon">
                            <i class="fas fa-sign-in-alt"></i>
                        </div>
                        <div class="header-logo-text">Login</div>
                    </div>
                </div>
            </div>

            <div class="dashboard-content">
                <div class="form-section">
                    <h3 style="margin-bottom: 25px; color: var(--primary); font-family: 'Playfair Display', serif;">Welcome Back</h3>
                    
                    <form id="login-form" onsubmit="login(event)">
                        <div class="form-group">
                            <label class="form-label">Phone Number</label>
                            <input type="tel" class="form-input" placeholder="260971234567" value="971234567" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Password</label>
                            <input type="password" class="form-input" placeholder="Enter your password" value="demo123" required>
                        </div>

                        <button type="submit" class="btn btn-primary btn-block" style="margin-top: 10px;">
                            <i class="fas fa-sign-in-alt"></i> Login to SAFENEST
                        </button>
                    </form>

                    <div class="demo-credentials" style="margin-top: 30px;">
                        <div style="font-weight: 600; color: var(--primary); margin-bottom: 15px; font-size: 14px;">Demo Credentials:</div>
                        <div class="demo-field">
                            <span>Phone:</span>
                            <strong>971234567</strong>
                        </div>
                        <div class="demo-field">
                            <span>Password:</span>
                            <strong>demo123</strong>
                        </div>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 30px; color: var(--text-medium);">
                    <p>Don't have an account? <a href="#" onclick="showScreen('register')" style="color: var(--primary); font-weight: 600;">Join our community</a></p>
                    <p style="margin-top: 10px;">or <a href="#" onclick="showScreen('welcome')" style="color: var(--primary); font-weight: 600;">return home</a></p>
                </div>
            </div>
        </div>

        <!-- Screen 3: Register -->
        <div class="screen" id="register-screen">
            <div class="app-header">
                <div class="header-left">
                    <button class="back-btn" onclick="showScreen('welcome')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="header-logo">
                        <div class="header-logo-icon">
                            <i class="fas fa-user-plus"></i>
                        </div>
                        <div class="header-logo-text">Join Us</div>
                    </div>
                </div>
            </div>

            <div class="dashboard-content">
                <div class="form-section">
                    <h3 style="margin-bottom: 25px; color: var(--primary); font-family: 'Playfair Display', serif;">Join Our Community</h3>
                    
                    <form id="register-form" onsubmit="register(event)">
                        <div class="form-group">
                            <label class="form-label">I'm looking for:</label>
                            <div style="display: flex; gap: 15px; margin-top: 10px;">
                                <button type="button" class="btn btn-outline" style="flex: 1;" onclick="selectRole('tenant')" id="tenant-btn">
                                    <i class="fas fa-user-graduate"></i> A Home
                                </button>
                                <button type="button" class="btn btn-outline" style="flex: 1;" onclick="selectRole('owner')" id="owner-btn">
                                    <i class="fas fa-building"></i> Tenants
                                </button>
                            </div>
                            <input type="hidden" id="user-role" value="tenant" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Full Name</label>
                            <input type="text" class="form-input" placeholder="John Banda" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Phone Number</label>
                            <input type="tel" class="form-input" placeholder="260971234567" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Email Address</label>
                            <input type="email" class="form-input" placeholder="john@example.com" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Create Password</label>
                            <input type="password" class="form-input" placeholder="Create a secure password" required>
                        </div>

                        <div id="tenant-fields">
                            <div class="form-group">
                                <label class="form-label">Institution/University</label>
                                <input type="text" class="form-input" placeholder="University of Zambia">
                            </div>
                        </div>

                        <div id="owner-fields" class="hidden">
                            <div class="form-group">
                                <label class="form-label">Property Owner Name</label>
                                <input type="text" class="form-input" placeholder="Banda Properties Ltd">
                            </div>
                        </div>

                        <div class="form-group">
                            <label style="display: flex; align-items: flex-start; gap: 10px; font-size: 14px; color: var(--text-medium);">
                                <input type="checkbox" required style="margin-top: 3px;">
                                <span>I agree to SAFENEST's <a href="#" style="color: var(--primary);">Terms of Service</a> and understand my data is protected</span>
                            </label>
                        </div>

                        <button type="submit" class="btn btn-primary btn-block" style="margin-top: 20px;">
                            <i class="fas fa-user-plus"></i> Create Account
                        </button>
                    </form>
                </div>

                <div style="text-align: center; margin-top: 30px; color: var(--text-medium);">
                    <p>Already part of our community? <a href="#" onclick="showScreen('login')" style="color: var(--primary); font-weight: 600;">Login here</a></p>
                </div>
            </div>
        </div>

        <!-- Screen 4: Dashboard -->
        <div class="screen" id="dashboard-screen">
            <div class="dashboard-header">
                <div class="greeting">
                    <h2 id="greeting-text">Good morning, John!</h2>
                    <p>Ready to find your perfect home today?</p>
                </div>

                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search locations, properties..." onfocus="showScreen('listings')">
                    <button class="header-action" onclick="showScreen('listings')">
                        <i class="fas fa-filter"></i>
                    </button>
                </div>
            </div>

            <div class="dashboard-content">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);">
                            <i class="fas fa-home"></i>
                        </div>
                        <div class="stat-value">142</div>
                        <div class="stat-label">Verified Homes</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, var(--secondary) 0%, var(--secondary-light) 100%);">
                            <i class="fas fa-bus"></i>
                        </div>
                        <div class="stat-value">67</div>
                        <div class="stat-label">Transport Routes</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #8E6C3A 0%, #A6804D 100%);">
                            <i class="fas fa-heart"></i>
                        </div>
                        <div class="stat-value" id="saved-count">5</div>
                        <div class="stat-label">Saved</div>
                    </div>
                </div>

                <div class="section-title">
                    <h3>Featured Homes</h3>
                    <a href="#" onclick="showScreen('listings')">View all</a>
                </div>

                <div class="properties-grid" id="featured-properties">
                    <!-- Featured properties will load here -->
                </div>

                <div class="section-title" style="margin-top: 30px;">
                    <h3>With Transport Options</h3>
                    <a href="#" onclick="showScreen('listings')">See all</a>
                </div>

                <div class="properties-grid" id="transport-properties">
                    <!-- Transport properties will load here -->
                </div>
            </div>
        </div>

        <!-- Screen 5: Property Listings -->
        <div class="screen" id="listings-screen">
            <div class="app-header">
                <div class="header-left">
                    <button class="back-btn" onclick="showScreen('dashboard')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="header-logo">
                        <div class="header-logo-icon">
                            <i class="fas fa-search"></i>
                        </div>
                        <div class="header-logo-text">Browse Homes</div>
                    </div>
                </div>
                <div class="header-right">
                    <button class="header-action" onclick="toggleFilters()">
                        <i class="fas fa-filter"></i>
                    </button>
                    <button class="header-action">
                        <i class="fas fa-map-marker-alt"></i>
                    </button>
                </div>
            </div>

            <div class="dashboard-content">
                <div class="search-box" style="margin: 0 20px 20px;">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search Woodlands, Ridgeway, Kabulonga...">
                </div>

                <div id="filters" class="form-section hidden" style="margin: 0 20px 20px;">
                    <h4 style="margin-bottom: 15px; color: var(--primary); font-family: 'Playfair Display', serif;">Filter Homes</h4>
                    <div class="form-group">
                        <label class="form-label">Price Range (ZMW)</label>
                        <div style="display: flex; gap: 10px;">
                            <input type="number" class="form-input" placeholder="Min" style="flex: 1;">
                            <input type="number" class="form-input" placeholder="Max" style="flex: 1;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Property Type</label>
                        <div style="display: flex; flex-wrap: wrap; gap: 8px;">
                            <span class="btn-outline" style="padding: 8px 16px; font-size: 14px; cursor: pointer;">Studio</span>
                            <span class="btn-outline" style="padding: 8px 16px; font-size: 14px; cursor: pointer; background: rgba(42, 92, 61, 0.1); color: var(--primary); border-color: var(--primary);">Bedsitter</span>
                            <span class="btn-outline" style="padding: 8px 16px; font-size: 14px; cursor: pointer;">1 Bedroom</span>
                            <span class="btn-outline" style="padding: 8px 16px; font-size: 14px; cursor: pointer;">Shared</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                            <input type="checkbox" checked style="transform: scale(1.2);">
                            <span>Transport Available</span>
                        </label>
                        <label class="form-label" style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                            <input type="checkbox" checked style="transform: scale(1.2);">
                            <span>Verified Homes Only</span>
                        </label>
                    </div>
                    <button class="btn btn-primary btn-block" onclick="toggleFilters()">
                        Apply Filters
                    </button>
                </div>

                <div class="properties-grid" id="all-properties" style="padding: 0 20px 100px;">
                    <!-- All properties will load here -->
                </div>
            </div>
        </div>

        <!-- Screen 6: Property Detail -->
        <div class="screen" id="property-screen">
            <div class="property-detail">
                <div class="app-header">
                    <div class="header-left">
                        <button class="back-btn" onclick="goBackToListings()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                    <div class="header-right">
                        <button class="header-action" id="property-fav-btn" onclick="toggleFavorite(currentPropertyId)">
                            <i class="far fa-heart"></i>
                        </button>
                        <button class="header-action">
                            <i class="fas fa-share-alt"></i>
                        </button>
                    </div>
                </div>

                <div class="property-image" id="property-main-image" style="background-image: url('https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80');">
                    <div class="property-overlay"></div>
                    <div class="property-badges">
                        <span class="badge badge-type">Bedsitter</span>
                        <span class="badge badge-transport"><i class="fas fa-bus"></i> Transport</span>
                        <span class="badge badge-verified"><i class="fas fa-check"></i> Verified</span>
                    </div>
                    <button class="property-fav" id="detail-fav-btn" onclick="toggleFavorite(currentPropertyId)">
                        <i class="far fa-heart"></i>
                    </button>
                </div>

                <div class="property-detail-content">
                    <div style="padding: 20px;">
                        <div class="property-header">
                            <div>
                                <h2 class="property-title" id="property-title">Modern Bedsitter near UNZA</h2>
                                <div class="property-location" style="margin-bottom: 10px;">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span id="property-location">Woodlands, Lusaka</span>
                                </div>
                                <div>
                                    <span class="trust-badge verified"><i class="fas fa-badge-check"></i> Verified Owner</span>
                                    <span class="trust-badge escrow"><i class="fas fa-lock"></i> Escrow Protected</span>
                                    <span class="trust-badge rating"><i class="fas fa-star"></i> 4.8 Rating</span>
                                </div>
                            </div>
                            <div class="property-price" id="property-price">850<span>ZMW / month</span></div>
                        </div>

                        <div style="margin: 20px 0; padding: 20px 0; border-top: 1px solid rgba(142, 108, 58, 0.1); border-bottom: 1px solid rgba(142, 108, 58, 0.1);">
                            <h4 style="margin-bottom: 15px; color: var(--primary); font-family: 'Playfair Display', serif;">About This Home</h4>
                            <p id="property-description" style="color: var(--text-medium); line-height: 1.6;">
                                A spacious, well-lit bedsitter perfect for students. Recently renovated with modern finishes, 24/7 security, and reliable water supply. Located just 10 minutes from UNZA main campus.
                            </p>
                        </div>

                        <div style="margin-bottom: 25px;">
                            <h4 style="margin-bottom: 15px; color: var(--primary); font-family: 'Playfair Display', serif;">Amenities</h4>
                            <div class="property-amenities" id="property-amenities" style="padding: 0; border: none; margin: 0;">
                                <!-- Amenities will load here -->
                            </div>
                        </div>

                        <div class="form-section" style="margin: 0;">
                            <h4 style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px; color: var(--primary); font-family: 'Playfair Display', serif;">
                                <i class="fas fa-bus"></i> Transport Options
                            </h4>
                            <p style="color: var(--text-medium); margin-bottom: 20px; font-size: 0.95rem;">Choose from reliable transport services:</p>
                            <div id="transport-options">
                                <!-- Transport options will load here -->
                            </div>
                        </div>
                    </div>
                </div>

                <div style="position: fixed; bottom: 80px; left: 0; width: 100%; max-width: 480px; padding: 20px; background: var(--warm-white); border-top: 1px solid rgba(142, 108, 58, 0.1); z-index: 900;">
                    <div style="display: flex; gap: 15px; align-items: center;">
                        <div style="flex: 1;">
                            <div style="font-size: 1.8rem; font-weight: 800; color: var(--primary);">950 ZMW</div>
                            <div style="font-size: 12px; color: var(--text-medium);">/month with transport bundle</div>
                        </div>
                        <button class="btn btn-primary" style="flex: 1; padding: 16px;" onclick="showBookingModal()">
                            <i class="fas fa-calendar-check"></i> Book Now
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Screen 7: Saved Properties -->
        <div class="screen" id="saved-screen">
            <div class="app-header">
                <div class="header-left">
                    <button class="back-btn" onclick="showScreen('dashboard')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="header-logo">
                        <div class="header-logo-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <div class="header-logo-text">Saved Homes</div>
                    </div>
                </div>
                <div class="header-right">
                    <button class="header-action" onclick="showScreen('listings')">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
            </div>

            <div class="dashboard-content">
                <div class="properties-grid" id="saved-properties" style="padding: 20px 20px 100px;">
                    <!-- Saved properties will load here -->
                </div>

                <div id="no-saved-message" class="hidden" style="text-align: center; padding: 60px 20px;">
                    <div style="font-size: 4rem; color: rgba(42, 92, 61, 0.1); margin-bottom: 20px;">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h3 style="margin-bottom: 10px; color: var(--primary); font-family: 'Playfair Display', serif;">No Saved Homes Yet</h3>
                    <p style="color: var(--text-medium); margin-bottom: 30px;">Browse homes and tap the heart icon to save them here.</p>
                    <button class="btn btn-primary" onclick="showScreen('listings')">
                        <i class="fas fa-search"></i> Explore Homes
                    </button>
                </div>
            </div>
        </div>

        <!-- Screen 8: Profile -->
        <div class="screen" id="profile-screen">
            <div style="background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); padding: 40px 20px; color: white; border-radius: 0 0 var(--radius-xl) var(--radius-xl);">
                <div style="display: flex; align-items: center; gap: 20px;">
                    <div style="width: 80px; height: 80px; border-radius: var(--radius-round); background: rgba(255, 255, 255, 0.2); display: flex; align-items: center; justify-content: center; font-size: 2rem; font-weight: 600;">
                        JB
                    </div>
                    <div>
                        <h2 id="profile-name" style="font-size: 1.8rem; margin-bottom: 5px;">John Banda</h2>
                        <span id="profile-type" style="display: inline-block; background: rgba(255, 255, 255, 0.2); padding: 6px 16px; border-radius: 20px; font-size: 14px;">Student</span>
                    </div>
                </div>
            </div>

            <div class="dashboard-content">
                <div class="form-section">
                    <h3 style="margin-bottom: 20px; color: var(--primary); font-family: 'Playfair Display', serif;">Account Information</h3>
                    <div class="demo-field">
                        <span class="info-label" style="color: var(--text-medium);">Phone</span>
                        <span class="info-value" id="profile-phone" style="font-weight: 600; color: var(--primary);">971234567</span>
                    </div>
                    <div class="demo-field">
                        <span class="info-label" style="color: var(--text-medium);">Institution</span>
                        <span class="info-value" id="profile-institution" style="font-weight: 600; color: var(--primary);">UNZA</span>
                    </div>
                    <div class="demo-field">
                        <span class="info-label" style="color: var(--text-medium);">Budget Range</span>
                        <span class="info-value" id="profile-budget" style="font-weight: 600; color: var(--primary);">800-1200 ZMW</span>
                    </div>
                    <div class="demo-field" style="border-bottom: none;">
                        <span class="info-label" style="color: var(--text-medium);">Member since</span>
                        <span class="info-value" style="font-weight: 600; color: var(--primary);">Oct 2023</span>
                    </div>
                </div>

                <div class="form-section">
                    <h3 style="margin-bottom: 20px; color: var(--primary); font-family: 'Playfair Display', serif;">My Activity</h3>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                        <div style="text-align: center; padding: 20px; background: rgba(42, 92, 61, 0.05); border-radius: var(--radius);">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--primary);">24</div>
                            <div style="font-size: 12px; color: var(--text-medium);">Homes Viewed</div>
                        </div>
                        <div style="text-align: center; padding: 20px; background: rgba(230, 126, 34, 0.05); border-radius: var(--radius);">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--primary);" id="profile-saved-count">5</div>
                            <div style="font-size: 12px; color: var(--text-medium);">Saved</div>
                        </div>
                        <div style="text-align: center; padding: 20px; background: rgba(142, 108, 58, 0.05); border-radius: var(--radius);">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--primary);">3</div>
                            <div style="font-size: 12px; color: var(--text-medium);">Contacts</div>
                        </div>
                        <div style="text-align: center; padding: 20px; background: rgba(39, 174, 96, 0.05); border-radius: var(--radius);">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--primary);">1</div>
                            <div style="font-size: 12px; color: var(--text-medium);">Bookings</div>
                        </div>
                    </div>
                </div>

                <button class="btn btn-secondary btn-block" style="margin-top: 30px;" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </div>

        <!-- Booking Modal -->
        <div class="modal" id="booking-modal">
            <div class="modal-content">
                <div class="modal-header" style="padding: 24px 24px 16px; border-bottom: 1px solid rgba(142, 108, 58, 0.1); display: flex; justify-content: space-between; align-items: center;">
                    <h3 style="color: var(--primary); font-family: 'Playfair Display', serif;">Complete Your Booking</h3>
                    <button class="modal-close" onclick="closeBookingModal()" style="background: none; border: none; font-size: 24px; color: var(--text-medium); cursor: pointer; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border-radius: 50%;">&times;</button>
                </div>

                <div class="modal-body" style="padding: 24px;">
                    <div style="text-align: center; margin-bottom: 24px;">
                        <div style="width: 60px; height: 60px; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; margin: 0 auto 16px;">
                            <i class="fas fa-home"></i>
                        </div>
                        <h4 id="booking-property-title" style="color: var(--primary); margin-bottom: 8px;">Modern Bedsitter</h4>
                        <p id="booking-property-location" style="color: var(--text-medium); font-size: 14px;">Woodlands, Lusaka</p>
                    </div>

                    <div style="background: linear-gradient(135deg, rgba(42, 92, 61, 0.05) 0%, rgba(230, 126, 34, 0.05) 100%); padding: 20px; border-radius: var(--radius); margin-bottom: 24px; border: 1px solid rgba(42, 92, 61, 0.1);">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                            <span style="color: var(--text-medium);">Package</span>
                            <span style="font-weight: 600; color: var(--primary);" id="booking-package">Housing + Transport</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                            <span style="color: var(--text-medium);">Duration</span>
                            <span style="font-weight: 600; color: var(--primary);" id="booking-duration">6 months</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                            <span style="color: var(--text-medium);">Move-in</span>
                            <span style="font-weight: 600; color: var(--primary);" id="booking-move-in">15 Nov 2023</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding-top: 12px; border-top: 1px solid rgba(42, 92, 61, 0.1);">
                            <span style="color: var(--text-medium); font-weight: 600;">Total</span>
                            <span style="font-size: 1.5rem; font-weight: 800; color: var(--primary);" id="booking-total">5,700 ZMW</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Special Requests (Optional)</label>
                        <textarea class="form-input" rows="3" placeholder="Any special requirements..."></textarea>
                    </div>

                    <div style="margin-top: 24px;">
                        <label style="display: flex; align-items: flex-start; gap: 10px; cursor: pointer;">
                            <input type="checkbox" required style="margin-top: 3px; transform: scale(1.2);">
                            <span style="font-size: 14px; color: var(--text-medium);">I agree to the house rules and understand this booking is subject to owner confirmation.</span>
                        </label>
                    </div>
                </div>

                <div class="modal-footer" style="padding: 16px 24px 24px; border-top: 1px solid rgba(142, 108, 58, 0.1); display: flex; gap: 12px;">
                    <button class="btn btn-outline" onclick="closeBookingModal()" style="flex: 1;">Cancel</button>
                    <button class="btn btn-primary" onclick="submitBooking()" style="flex: 2;">
                        <i class="fas fa-lock"></i> Confirm Booking
                    </button>
                </div>
            </div>
        </div>

        <!-- Toast Notification -->
        <div class="toast" id="toast">
            <i class="fas fa-check-circle"></i>
            <span id="toast-message">Welcome to SAFENEST!</span>
        </div>
    </div>

    <script>
        // ===== APP STATE =====
        let currentUser = null;
        let currentRole = 'tenant';
        let currentScreen = 'welcome';
        let previousScreen = 'welcome';
        let currentPropertyId = null;
        let savedProperties = ['prop_001', 'prop_002', 'prop_004'];
        let properties = [];

        // ===== INITIALIZATION =====
        document.addEventListener('DOMContentLoaded', function() {
            initializeProperties();
            loadDashboard();
            
            // Add touch effects
            document.querySelectorAll('.btn, .property-card, .nav-item, .feature-item').forEach(el => {
                el.addEventListener('touchstart', function() {
                    this.style.transform = 'scale(0.98)';
                });

                el.addEventListener('touchend', function() {
                    this.style.transform = '';
                });
            });
            
            // Welcome message
            setTimeout(() => {
                showToast('Welcome to SAFENEST - Find your perfect home!', 'success');
            }, 1000);
        });

        function initializeProperties() {
            properties = [
                {
                    id: 'prop_001',
                    title: 'Modern Bedsitter near UNZA',
                    price: 850,
                    location: 'Woodlands, Lusaka',
                    type: 'Bedsitter',
                    description: 'A spacious, well-lit bedsitter perfect for students. Recently renovated with modern finishes, 24/7 security, and reliable water supply. Located just 10 minutes from UNZA main campus with easy access to public transport.',
                    image: 'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80',
                    amenities: ['WiFi Included', '24/7 Security', 'Water Included', 'Furnished', 'Private Bathroom'],
                    transportAvailable: true,
                    bundlePrice: 950,
                    verified: true,
                    featured: true
                },
                {
                    id: 'prop_002',
                    title: 'Cozy 1-Bedroom in Ridgeway',
                    price: 1200,
                    location: 'Ridgeway, Lusaka',
                    type: '1-Bedroom',
                    description: 'Fully furnished one-bedroom apartment with kitchenette and living area. Secure compound with parking space. Walking distance to shops and restaurants.',
                    image: 'https://images.unsplash.com/photo-1555854877-bab0e564b8d5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80',
                    amenities: ['WiFi Ready', 'Security', 'Parking', 'Fully Furnished', 'Kitchenette'],
                    transportAvailable: true,
                    bundlePrice: 1320,
                    verified: true,
                    featured: true
                },
                {
                    id: 'prop_003',
                    title: 'Spacious Shared Room near CBU',
                    price: 600,
                    location: 'Kitwe, Copperbelt',
                    type: 'Shared',
                    description: 'Large shared room in a student house. Perfect for budget-conscious students. Includes study area and shared kitchen.',
                    image: 'https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    amenities: ['Study Area', 'Shared Kitchen', '24/7 Security', 'Water Included', 'WiFi Ready'],
                    transportAvailable: false,
                    bundlePrice: null,
                    verified: false,
                    featured: false
                },
                {
                    id: 'prop_004',
                    title: 'Luxury 2-Bedroom in Kabulonga',
                    price: 2200,
                    location: 'Kabulonga, Lusaka',
                    type: '2-Bedroom',
                    description: 'Modern two-bedroom apartment with premium finishes. Perfect for couples or roommates. Includes gym access and swimming pool.',
                    image: 'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    amenities: ['Swimming Pool', 'Gym Access', '24/7 Security', 'Parking', 'Fully Furnished', 'WiFi Included'],
                    transportAvailable: true,
                    bundlePrice: 2400,
                    verified: true,
                    featured: true
                }
            ];
        }

        // ===== UTILITY FUNCTIONS =====
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            const icon = toast.querySelector('i');
            const messageEl = document.getElementById('toast-message');

            if (type === 'success') {
                icon.className = 'fas fa-check-circle';
                toast.style.background = 'linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%)';
            } else if (type === 'error') {
                icon.className = 'fas fa-times-circle';
                toast.style.background = 'linear-gradient(135deg, #E74C3C 0%, #C0392B 100%)';
            } else if (type === 'warning') {
                icon.className = 'fas fa-exclamation-triangle';
                toast.style.background = 'linear-gradient(135deg, var(--secondary) 0%, #F1C40F 100%)';
            }

            messageEl.textContent = message;
            toast.classList.add('show');

            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // ===== SCREEN MANAGEMENT =====
        function showScreen(screenId) {
            if (currentScreen === screenId) return;

            const currentEl = document.getElementById(`${currentScreen}-screen`);
            const nextEl = document.getElementById(`${screenId}-screen`);

            previousScreen = currentScreen;
            currentEl.classList.add('exit-left');

            // Update navigation
            const nav = document.getElementById('bottom-nav-tenant');
            nav.classList.add('hidden');

            if (screenId === 'dashboard' || screenId === 'listings' || screenId === 'saved' || screenId === 'profile') {
                nav.classList.remove('hidden');
                updateActiveNav(nav, screenId);
            }

            setTimeout(() => {
                currentEl.classList.remove('active');
                currentEl.classList.remove('exit-left');

                nextEl.classList.add('active');
                currentScreen = screenId;

                loadScreenContent(screenId);
            }, 300);
        }

        function updateActiveNav(navElement, screenId) {
            navElement.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            const activeItem = navElement.querySelector(`.nav-item[onclick*="${screenId}"]`);
            if (activeItem) {
                activeItem.classList.add('active');
            }
        }

        function loadScreenContent(screenId) {
            switch(screenId) {
                case 'dashboard':
                    loadDashboard();
                    break;
                case 'listings':
                    loadAllProperties();
                    break;
                case 'property':
                    if (currentPropertyId) {
                        loadPropertyDetail(currentPropertyId);
                    }
                    break;
                case 'saved':
                    loadSavedProperties();
                    break;
                case 'profile':
                    loadProfile();
                    break;
            }
        }

        function goBack() {
            if (previousScreen) {
                showScreen(previousScreen);
            }
        }

        function goBackToListings() {
            showScreen('listings');
        }

        function toggleFilters() {
            const filters = document.getElementById('filters');
            filters.classList.toggle('hidden');
        }

        // ===== AUTHENTICATION =====
        function quickDemoLogin(role) {
            currentRole = role;
            currentUser = {
                name: role === 'tenant' ? 'John Banda' : 'Sarah Landlord',
                phone: '971234567',
                type: role === 'tenant' ? 'student' : 'owner',
                institution: role === 'tenant' ? 'University of Zambia (UNZA)' : 'N/A',
                budget: '800-1200 ZMW'
            };

            showToast(`Welcome to SAFENEST${role === 'tenant' ? '! Ready to find your perfect home?' : ' Property Owner!'}`, 'success');
            showScreen('dashboard');
        }

        function selectRole(role) {
            currentRole = role;
            const tenantBtn = document.getElementById('tenant-btn');
            const ownerBtn = document.getElementById('owner-btn');
            
            if (role === 'tenant') {
                tenantBtn.style.background = 'rgba(42, 92, 61, 0.1)';
                tenantBtn.style.color = 'var(--primary)';
                tenantBtn.style.borderColor = 'var(--primary)';
                
                ownerBtn.style.background = 'transparent';
                ownerBtn.style.color = 'var(--primary)';
                ownerBtn.style.borderColor = 'rgba(42, 92, 61, 0.1)';
                
                document.getElementById('tenant-fields').classList.remove('hidden');
                document.getElementById('owner-fields').classList.add('hidden');
            } else {
                ownerBtn.style.background = 'rgba(42, 92, 61, 0.1)';
                ownerBtn.style.color = 'var(--primary)';
                ownerBtn.style.borderColor = 'var(--primary)';
                
                tenantBtn.style.background = 'transparent';
                tenantBtn.style.color = 'var(--primary)';
                tenantBtn.style.borderColor = 'rgba(42, 92, 61, 0.1)';
                
                document.getElementById('tenant-fields').classList.add('hidden');
                document.getElementById('owner-fields').classList.remove('hidden');
            }
            
            document.getElementById('user-role').value = role;
        }

        function login(event) {
            event.preventDefault();
            
            currentRole = Math.random() > 0.5 ? 'tenant' : 'owner';
            currentUser = {
                name: currentRole === 'tenant' ? 'John Banda' : 'Sarah Landlord',
                phone: '971234567',
                type: currentRole === 'tenant' ? 'student' : 'owner',
                institution: currentRole === 'tenant' ? 'University of Zambia (UNZA)' : 'N/A',
                budget: '800-1200 ZMW'
            };

            showToast('Welcome back to SAFENEST!', 'success');
            showScreen('dashboard');
        }

        function register(event) {
            event.preventDefault();
            
            const role = document.getElementById('user-role').value;
            const name = document.querySelector('#register-form input[type="text"]').value || 'John Banda';
            
            currentRole = role;
            currentUser = {
                name,
                phone: '971234567',
                type: role,
                institution: role === 'tenant' ? 'University of Zambia (UNZA)' : 'N/A',
                budget: '800-1200 ZMW'
            };

            showToast(`Welcome to our community, ${name}!`, 'success');
            showScreen('dashboard');
        }

        function logout() {
            currentUser = null;
            currentRole = 'tenant';
            showToast('Successfully logged out', 'success');
            showScreen('welcome');
        }

        // ===== PROPERTY FUNCTIONS =====
        function createPropertyCard(property) {
            const isSaved = savedProperties.includes(property.id);

            return `
                <div class="property-card" onclick="viewProperty('${property.id}')">
                    <div class="property-image" style="background-image: url('${property.image}');">
                        <div class="property-overlay"></div>
                        <div class="property-badges">
                            <span class="badge badge-type">${property.type}</span>
                            ${property.transportAvailable ? '<span class="badge badge-transport"><i class="fas fa-bus"></i> Transport</span>' : ''}
                            ${property.verified ? '<span class="badge badge-verified"><i class="fas fa-check"></i> Verified</span>' : ''}
                        </div>
                        <button class="property-fav ${isSaved ? 'active' : ''}" onclick="toggleFavorite('${property.id}', event)">
                            <i class="${isSaved ? 'fas' : 'far'} fa-heart"></i>
                        </button>
                    </div>
                    <div class="property-content">
                        <div class="property-header">
                            <div>
                                <h3 class="property-title">${property.title}</h3>
                                <div class="property-location">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span>${property.location}</span>
                                </div>
                                <div style="margin-top: 8px;">
                                    ${property.verified ? '<span class="trust-badge verified"><i class="fas fa-badge-check"></i> Verified</span>' : ''}
                                    ${property.transportAvailable ? '<span class="trust-badge"><i class="fas fa-bus"></i> Transport</span>' : ''}
                                    <span class="trust-badge escrow"><i class="fas fa-lock"></i> Escrow</span>
                                </div>
                            </div>
                            <div class="property-price">${property.price}<span>ZMW / month</span></div>
                        </div>
                        
                        <div class="property-amenities">
                            ${property.amenities.slice(0, 3).map(amenity => `
                                <div class="amenity">
                                    <i class="fas fa-check"></i>
                                    <span>${amenity}</span>
                                </div>
                            `).join('')}
                        </div>
                        
                        <div class="property-footer">
                            <button class="btn-outline" onclick="viewProperty('${property.id}')">
                                <i class="fas fa-eye"></i> View Details
                            </button>
                            <button class="btn-solid" onclick="viewProperty('${property.id}')">
                                <i class="fas fa-calendar-check"></i> Book Now
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function loadDashboard() {
            if (!currentUser) return;

            // Update greeting
            const hour = new Date().getHours();
            let greeting = 'Good evening';
            if (hour < 12) greeting = 'Good morning';
            else if (hour < 18) greeting = 'Good afternoon';
            
            document.getElementById('greeting-text').textContent = `${greeting}, ${currentUser.name.split(' ')[0]}!`;
            document.getElementById('saved-count').textContent = savedProperties.length;
            
            // Load featured properties
            const featuredContainer = document.getElementById('featured-properties');
            const featured = properties.filter(p => p.featured && p.verified);
            featuredContainer.innerHTML = featured.map(createPropertyCard).join('');

            // Load transport properties
            const transportContainer = document.getElementById('transport-properties');
            const transport = properties.filter(p => p.transportAvailable && p.verified);
            transportContainer.innerHTML = transport.map(createPropertyCard).join('');
        }

        function loadAllProperties() {
            const container = document.getElementById('all-properties');
            const verifiedProperties = properties.filter(p => p.verified);
            container.innerHTML = verifiedProperties.map(createPropertyCard).join('');
        }

        function viewProperty(propertyId) {
            currentPropertyId = propertyId;
            showScreen('property');
        }

        function loadPropertyDetail(propertyId) {
            const property = properties.find(p => p.id === propertyId);
            if (!property) return;

            // Update property details
            document.getElementById('property-title').textContent = property.title;
            document.getElementById('property-location').textContent = property.location;
            document.getElementById('property-description').textContent = property.description;
            document.getElementById('property-price').textContent = `${property.price}`;

            // Update favorite button
            const isSaved = savedProperties.includes(propertyId);
            const favBtn = document.getElementById('detail-fav-btn');
            favBtn.innerHTML = isSaved ? '<i class="fas fa-heart"></i>' : '<i class="far fa-heart"></i>';

            // Load amenities
            const amenitiesContainer = document.getElementById('property-amenities');
            amenitiesContainer.innerHTML = property.amenities.map(amenity => `
                <div class="amenity">
                    <i class="fas fa-check"></i>
                    <span>${amenity}</span>
                </div>
            `).join('');

            // Load transport options
            const transportContainer = document.getElementById('transport-options');
            if (property.transportAvailable) {
                transportContainer.innerHTML = `
                    <div style="background: var(--warm-white); border-radius: var(--radius-sm); padding: 20px; margin-bottom: 15px; border: 1px solid rgba(142, 108, 58, 0.1);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <div>
                                <h5 style="color: var(--primary); margin-bottom: 5px;">Campus Shuttle Direct</h5>
                                <p style="font-size: 13px; color: var(--text-medium);">UNZA Main Gate to Woodlands via Great East Road</p>
                            </div>
                            <div style="text-align: right;">
                                <div style="font-weight: 700; color: var(--secondary);">100 ZMW</div>
                                <div style="font-size: 12px; color: var(--text-medium);">/month</div>
                            </div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 10px; font-size: 13px; color: var(--text-medium);">
                            <i class="fas fa-clock"></i>
                            <span>Mon-Fri: 7:30 AM, 1:00 PM, 5:30 PM</span>
                        </div>
                    </div>
                `;
            }
        }

        function toggleFavorite(propertyId, event) {
            if (event) event.stopPropagation();

            const index = savedProperties.indexOf(propertyId);
            if (index === -1) {
                savedProperties.push(propertyId);
                showToast('Added to saved homes', 'success');
            } else {
                savedProperties.splice(index, 1);
                showToast('Removed from saved homes', 'warning');
            }

            // Update UI
            if (currentScreen === 'property') {
                const favBtn = document.getElementById('detail-fav-btn');
                const isSaved = savedProperties.includes(propertyId);
                favBtn.innerHTML = isSaved ? '<i class="fas fa-heart"></i>' : '<i class="far fa-heart"></i>';
            }

            // Update saved count
            document.getElementById('saved-count').textContent = savedProperties.length;
            
            // Reload saved screen if active
            if (currentScreen === 'saved') {
                loadSavedProperties();
            }
        }

        function loadSavedProperties() {
            const container = document.getElementById('saved-properties');
            const noSavedMessage = document.getElementById('no-saved-message');
            const saved = properties.filter(p => savedProperties.includes(p.id));
            
            if (saved.length === 0) {
                container.classList.add('hidden');
                noSavedMessage.classList.remove('hidden');
            } else {
                container.classList.remove('hidden');
                noSavedMessage.classList.add('hidden');
                container.innerHTML = saved.map(createPropertyCard).join('');
            }
        }

        // ===== PROFILE FUNCTIONS =====
        function loadProfile() {
            if (!currentUser) return;

            document.getElementById('profile-name').textContent = currentUser.name;
            document.getElementById('profile-type').textContent = currentRole === 'tenant' ? 'Student' : 'Property Owner';
            document.getElementById('profile-phone').textContent = currentUser.phone;
            document.getElementById('profile-institution').textContent = currentUser.institution;
            document.getElementById('profile-budget').textContent = currentUser.budget;
            document.getElementById('profile-saved-count').textContent = savedProperties.length;
        }

        // ===== BOOKING FUNCTIONS =====
        function showBookingModal() {
            if (!currentUser) {
                showToast('Please login to book a home', 'warning');
                showScreen('login');
                return;
            }

            const property = properties.find(p => p.id === currentPropertyId);
            if (!property) return;

            // Update modal content
            document.getElementById('booking-property-title').textContent = property.title;
            document.getElementById('booking-property-location').textContent = property.location;
            document.getElementById('booking-package').textContent = property.transportAvailable ? 'Housing + Transport Bundle' : 'Housing Only';
            document.getElementById('booking-duration').textContent = '6 months';
            document.getElementById('booking-move-in').textContent = '15 Nov 2023';

            const totalPrice = property.bundlePrice ? property.bundlePrice * 6 : property.price * 6;
            document.getElementById('booking-total').textContent = `${totalPrice.toLocaleString()} ZMW`;

            // Show modal
            document.getElementById('booking-modal').classList.add('active');
        }

        function closeBookingModal() {
            document.getElementById('booking-modal').classList.remove('active');
        }

        function submitBooking() {
            closeBookingModal();
            showToast('Booking submitted! Owner will contact you shortly.', 'success');
        }
    </script>
</body>
</html>